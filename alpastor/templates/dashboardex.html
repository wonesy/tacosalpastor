{% extends 'base_generic.html' %}

{% load static %}

{% block additional_links %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
{% endblock %}

{% block content %}


    <div class="container">


        <!-- Trigger the modal with a button -->
        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Country</button>
        <br>
        <br>
        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal2">Program</button>
        <br>
        <br>
        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal3">Specialization
        </button>

        <!--Country Modal -->
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Country</h4>
                    </div>
                    <div class="modal-body">

                        <canvas id="myChart" width="100" height="100"></canvas>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>
        <!-- Course modal -->
        <div class="modal fade" id="myModal2" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">program</h4>
                    </div>
                    <div class="modal-body">

                        <canvas id="myChartProgram" width="100" height="100"></canvas>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>


        <!-- Course modal -->
        <div class="modal fade" id="myModal3" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">program</h4>
                    </div>
                    <div class="modal-body">

                        <canvas id="myChartSpl" width="100" height="100"></canvas>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>

    </div>


    {#    <div class="row">#}
    {#        {% for item in country %}#}
    {#            {{ item }}#}
    {##}
    {#        {% endfor %}#}
    {##}
    {#        <br>#}
    {##}
    {#        {{ vaar2 }}#}
    {##}
    {#        {% for y in vaar2 %}#}
    {##}
    {#            {{ y.the_count }}#}
    {##}
    {#        {% endfor %}#}
    {#        {% for x in vaar2 %}#}
    {##}
    {#            {{ x.country }}#}
    {##}
    {#        {% endfor %}#}
    {##}
    {#        {% for value in splgraph %}#}
    {#            {{ value.specialization }}#}
    {#        {% endfor %}#}
    {##}
    {#        {% for number in splgraph %}#}
    {#            {{ number.count_specialization }}#}
    {##}
    {#        {% endfor %}#}
    {#    </div>#}
    <div class="row">


        {#                <h1>Country</h1>#}
        <canvas id="myChart" width="100" height="100"></canvas>


        {#                <h1>Prog</h1>#}
        <canvas id="myChartProgram" width="100" height="100"></canvas>

    </div>


    <script>

        var ctx = document.getElementById("myChart").getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: [{% for item in country %} "{{ item }}", {% endfor %}],
                datasets: [{

                    data: [{% for y in vaar2 %}

                        {{ y.the_count }},

                    {% endfor %}],
                    backgroundColor: [
                        getRandomColorHex(),
                        getRandomColorHex(),
                        getRandomColorHex(),
                        getRandomColorHex(),
                        getRandomColorHex(),
                        getRandomColorHex()
                    ],
                    borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                },
                legend: {
                    labels: {
                        generateLabels: function (chart) {
                            var labels = chart.data.labels;
                            var dataset = chart.data.datasets[0];
                            var legend = labels.map(function (label, index) {
                                return {
                                    datasetIndex: 0,
                                    text: label,
                                    fillStyle: dataset.backgroundColor[index],
                                    strokeStyle: dataset.borderColor[index],
                                    lineWidth: 1
                                }
                            });
                            return legend;
                        }
                    }
                }
            }
        });
        {#program        #}

        var ctxx = document.getElementById("myChartProgram").getContext('2d');
        var myChartProgram = new Chart(ctxx, {
            type: 'bar',
            data: {
                labels: [{% for item in program %} "{{ item.program }}", {% endfor %}],
                datasets: [{

                    data: [{% for a in program %}

                        {{ a.count_program }},

                    {% endfor %}],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                },
                legend: {
                    labels: {
                        generateLabels: function (chart) {
                            var labels = chart.data.labels;
                            var dataset = chart.data.datasets[0];
                            var legend = labels.map(function (label, index) {
                                return {
                                    datasetIndex: 0,
                                    text: label,
                                    fillStyle: dataset.backgroundColor[index],
                                    strokeStyle: dataset.borderColor[index],
                                    lineWidth: 1
                                }
                            });
                            return legend;
                        }
                    }
                }
            }
        });
        {#course#}
        var third = document.getElementById("myChartSpl").getContext('2d');
        var myChartSpl = new Chart(third, {
            type: 'bar',
            data: {
                labels: [{% for value in splgraph %} "{{ value.specialization }}", {% endfor %}],
                datasets: [{

                    data: [{% for number in splgraph %}

                        {{ number.count_specialization }},

                    {% endfor %}],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                },
                legend: {
                    labels: {
                        generateLabels: function (chart) {
                            var labels = chart.data.labels;
                            var dataset = chart.data.datasets[0];
                            var legend = labels.map(function (label, index) {
                                return {
                                    datasetIndex: 0,
                                    text: label,
                                    fillStyle: dataset.backgroundColor[index],
                                    strokeStyle: dataset.borderColor[index],
                                    lineWidth: 1
                                }
                            });
                            return legend;
                        }
                    }
                }
            }


        });


        function getRandomColorHex() {
            var hex = "0123456789ABCDEF",
                color = "#";
            for (var i = 1; i <= 6; i++) {
                color += hex[Math.floor(Math.random() * 16)];
            }
            return color;
        }


    </script>
{% endblock %}