{% extends 'base_generic.html' %}

{% load static %}

{% block content %}
    <div class="row">
        {%  for student in students %}
            <div class="col-sm-12 col-md-4 col-lg-3 people-block">
                <div class="people-top">
                    <div class="people-img">
                        <!-- Show student image, if exists, otherwise show default image -->
                        {%  if student.photo_location != "" %}
                            {% with 'image/portraits/'|add:student.photo_location as image_static %}
                                <img class="center-block" src="{% static image_static %}" alt={{ student.first_name }}>
                            {% endwith %}
                        {% else %}
                            <img src="{% static 'image/portraits/generic_taco.jpg' %}" alt="Default taco" class="people-img">
                        {% endif %}
                    </div>

                    <div class="people-names">
                        {{ student.user.get_full_name }} <br>
                        {{ student.country }} <br>
                        {% with 'image/flags/'|add:student.country_code|add:'.jpg' as image_static %}
                            <img src="{% static image_static %}" alt={{ student.first_name }}>
                        {% endwith %}
                    </div>
                </div>
                <div class="people-bot">
                    <div class="people-info">
                        {{ student.user.email }}<br>{{ student.user.external_email }}<br>{{ student.phone }}<br>
                        {{ student.program }}: {{ student.specialization }}<br>[{{ student.classof }}]
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}